variables:
  - name: ProblemNumber
    description: The LeetCode problem number (e.g. 1)
    type: int
    order: 0

  - name: ProblemName
    description: The name of the problem (e.g. "two sum")
    type: string
    order: 1

  - name: SolutionNames
    description: The names of the approaches to the problem (e.g. ["brute force", "sliding window"])
    type: list
    default:
      - "brute force"
    order: 2

  - name: SolutionFunctionName
    type: string
    default: compute_baz
    order: 3

  # For now, just template all args as type of i32
  - name: SolutionFunctionArgs
    type: list
    default:
      - "foo"
      - "bar"
    order: 4

  # - name: SolutionFunctionReturnType
  #   type: string
  #   default:
  #     - "i32"
  #   order: 5

dependencies:
  - name: CommonFiles
    template-url: ../lc_rust_common_files
    output-folder: "{{ outputFolder }}/{{ snakecase .ProblemName | printf \"lc_%04d_%v\" .ProblemNumber }}"

  - name: LoopSolutionNames
    template-url: ../lc_rust_solution
    for_each_reference: SolutionNames
    output-folder: "{{ outputFolder }}/{{ snakecase .ProblemName | printf \"lc_%04d_%v\" .ProblemNumber }}"
    variables:
      - name: SolutionName
        default: "{{ .__each__ }}"
      - name: SnakeCaseSolutionName
        default: "{{ snakecase .__each__ }}"

  - name: TestCases
    template-url: ../lc_rust_tests
    output-folder: "{{ outputFolder }}/../../tests"
    variables:
      - name: TestsFileName
        default: "{{ snakecase .ProblemName | printf \"lc_%04d_%v\" .ProblemNumber }}"

hooks:
  after:
    - command: cargo
      args:
        - fmt
      dir: "{{ outputFolder }}/../../.."
